{% extends "base.html" %}


{% block content %}
  <h1>
    Task list
    <a href="{% url 'my-task-create' %}" class="btn btn-success">
      Add
    </a>
  </h1>
    <h2>
    In progress
    </h2>
  {% if task_list %}
    <table class="table">
      <tr>
          <th>Project</th>
          <th>Name</th>
          <th>Type</th>
          <th>Deadline</th>
          <th>Priority</th>
          <th>Status</th>
          <th>Edit</th>
          <th>Delete</th>
      </tr>

      {% for task in task_list %}
        <tr>
            <td>
              {{ task.project }}
            </td>
          <td>
              <a href="{% url "task-detail" pk=task.id %}">{{ task.name }}</a>
          </td>
          <td>
              {{ task.task_type.name }}
          </td>
            <td>
              {{ task.deadline }}
            </td>
            <td>
                {{ task.priority }}
            </td>
            <td>
              {% if task.is_completed %}
                  <h6>Done!</h6>
              {% else %}
                  <a class="btn btn-outline-success" href="{% url "my-task-make-done" pk=task.id %}">✔️</a>
              {% endif %}
            </td>
            <td>
                <a class="btn btn-outline-primary" href="{% url "my-task-update" pk=task.id %}">✎</a>
            </td>
            <td>
                <a class="btn btn-outline-danger" href="{% url "task-delete-my-tasks" pk=task.id %}">❌</a>
            </td>
        </tr>
      {% endfor %}
    </table>
  {% else %}
    <p>There are no tasks</p>
  {% endif %}
{% endblock %}
